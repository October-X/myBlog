{"version":3,"file":"js/blogDetail.24b12b48.js","mappings":"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","sources":["webpack://test-site/./src/Views/Blog/Detail.vue?501d","webpack://test-site/./src/Views/Blog/components/BlogComment.vue?d76d","webpack://test-site/src/Views/Blog/components/BlogComment.vue","webpack://test-site/./src/Views/Blog/components/BlogComment.vue?194d","webpack://test-site/./src/Views/Blog/components/BlogComment.vue","webpack://test-site/./src/Views/Blog/components/BlogDetail.vue?2f92","webpack://test-site/src/Views/Blog/components/BlogDetail.vue","webpack://test-site/./src/Views/Blog/components/BlogDetail.vue?68bd","webpack://test-site/./src/Views/Blog/components/BlogDetail.vue","webpack://test-site/./src/Views/Blog/components/BlogTOC.vue?05ad","webpack://test-site/src/Views/Blog/components/BlogTOC.vue","webpack://test-site/./src/Views/Blog/components/BlogTOC.vue?81ed","webpack://test-site/./src/Views/Blog/components/BlogTOC.vue","webpack://test-site/src/Views/Blog/Detail.vue","webpack://test-site/./src/Views/Blog/Detail.vue?c66e","webpack://test-site/./src/Views/Blog/Detail.vue","webpack://test-site/./src/Views/Blog/components/RightList.vue?0937","webpack://test-site/src/Views/Blog/components/RightList.vue","webpack://test-site/./src/Views/Blog/components/RightList.vue?9586","webpack://test-site/./src/Views/Blog/components/RightList.vue","webpack://test-site/./src/components/MessageArea/index.vue?d975","webpack://test-site/./src/components/MessageArea/DataForm.vue?a980","webpack://test-site/src/components/MessageArea/DataForm.vue","webpack://test-site/./src/components/MessageArea/DataForm.vue?e1aa","webpack://test-site/./src/components/MessageArea/DataForm.vue","webpack://test-site/./src/components/MessageArea/DataList.vue?4df2","webpack://test-site/src/components/MessageArea/DataList.vue","webpack://test-site/./src/components/MessageArea/DataList.vue?3135","webpack://test-site/./src/components/MessageArea/DataList.vue","webpack://test-site/src/components/MessageArea/index.vue","webpack://test-site/./src/components/MessageArea/index.vue?1005","webpack://test-site/./src/components/MessageArea/index.vue","webpack://test-site/./src/api/blog.js","webpack://test-site/./src/mixins/fetchData.js","webpack://test-site/./src/mixins/mainScroll.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail-container\"},[_c('Layout',{scopedSlots:_vm._u([{key:\"right\",fn:function(){return [_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],staticClass:\"right-container\"},[(_vm.data)?_c('BlogTOC',{attrs:{\"toc\":_vm.data.toc}}):_vm._e()],1)]},proxy:true}])},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],ref:\"mainContainer\",staticClass:\"main-container\"},[_c('BlogDetail',{attrs:{\"blog\":_vm.data,\"v-if\":_vm.data}}),(!_vm.isLoading)?_c('BlogComment'):_vm._e()],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"blog-comment-container\"},[_c('MessageArea',{attrs:{\"title\":\"评论列表\",\"subTitle\":(\"(\" + (_vm.data.total) + \")\"),\"list\":_vm.data.rows,\"isListLoading\":_vm.isLoading},on:{\"submit\":_vm.handleSubmit}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"blog-comment-container\">\n    <MessageArea title=\"评论列表\" :subTitle=\"`(${data.total})`\" :list=\"data.rows\" :isListLoading=\"isLoading\"\n      @submit=\"handleSubmit\" />\n  </div>\n</template>\n\n<script>\nimport MessageArea from \"@/components/MessageArea\";\nimport fetchData from \"@/mixins/fetchData.js\";\nimport { getComments, postComment } from \"@/api/blog.js\";\nimport { debounce } from '@/utils';\nexport default {\n  mixins: [fetchData({ total: 0, rows: [] })],\n  components: {\n    MessageArea,\n  },\n  data() {\n    return {\n      page: 1,\n      limit: 10,\n    };\n  },\n  computed: {\n    hasMore() {\n      return this.data.rows.length < this.data.total\n    }\n  },\n  created() {\n    this.setSelectDebounce = debounce(this.handleScroll, 50)\n    this.$bus.$on('mainScroll', this.setSelectDebounce)\n  },\n  destroyed() {\n    this.$bus.$off('mainaScroll', this.setSelectDebounce)\n  },\n  methods: {\n    async fetchData() {\n      return await getComments(this.$route.params.id, this.page, this.limit);\n    },\n    async fetchMore() {\n      if (!this.hasMore) return\n      this.isLoading = true;\n      this.page++;\n      const resp = await this.fetchData();\n      this.data.total = resp.total;\n      this.data.rows = this.data.rows.concat(resp.rows);\n      this.isLoading = false;\n    },\n    async handleSubmit(formData, callback) {\n      const resp = await postComment({\n        blogId: this.$route.params.id,\n        ...formData,\n      });\n      this.data.rows.unshift(resp);//将提交的内容加入数据中\n      this.data.total++;\n      callback(\"评论成功\"); // 告诉子组件，我这边处理完了，你继续\n    },\n    async handleScroll(dom) {\n      if (this.isLoading || !dom) {\n        //正在加载\n        return\n      }\n      const range = 100;//定义一个可接受的范围\n      const dec = Math.abs((dom.scrollTop + dom.clientHeight) - dom.scrollHeight);\n      if (dec <= range) {\n        //到达了底部\n        this.fetchMore()\n      }\n    }\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n.blog-comment-container {\n  margin: 30px 0;\n}\n</style>\n ","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BlogComment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BlogComment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BlogComment.vue?vue&type=template&id=7020fb8f&scoped=true&\"\nimport script from \"./BlogComment.vue?vue&type=script&lang=js&\"\nexport * from \"./BlogComment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BlogComment.vue?vue&type=style&index=0&id=7020fb8f&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7020fb8f\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.blog.category)?_c('div',{staticClass:\"blog-detail-container\"},[_c('h1',[_vm._v(_vm._s(_vm.blog.title))]),_c('div',{staticClass:\"aside\"},[_c('span',[_vm._v(\"日期: \"+_vm._s(_vm.formatDate(_vm.blog.createDate)))]),_c('span',[_vm._v(\"浏览: \"+_vm._s(_vm.blog.scanNumber))]),_c('a',{attrs:{\"href\":\"#data-form-container\"}},[_vm._v(\"评论: \"+_vm._s(_vm.blog.commentNumber))]),_c('router-link',{attrs:{\"to\":{\n            name:'CategoryBlog',\n            params:{\n                categotyId:_vm.blog.category.id\n            }\n        }}},[_vm._v(_vm._s(_vm.blog.category.name))])],1),_c('div',{staticClass:\"markdown-body\",domProps:{\"innerHTML\":_vm._s(_vm.blog.htmlContent)}})]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"blog-detail-container\" v-if=\"blog.category\">\r\n        <!-- 加入v-if=\"blog.category\"是防止存在报错，加载过程中可能不存在这个blog.category -->\r\n        <h1>{{ blog.title }}</h1>\r\n        <div class=\"aside\">\r\n            <span>日期: {{ formatDate(blog.createDate) }}</span>\r\n            <span>浏览: {{ blog.scanNumber }}</span>\r\n            <a href=\"#data-form-container\">评论: {{ blog.commentNumber }}</a>\r\n            <router-link :to=\"{\r\n                name:'CategoryBlog',\r\n                params:{\r\n                    categotyId:blog.category.id\r\n                }\r\n            }\">{{ blog.category.name }}</router-link>\r\n        </div>\r\n        <div class=\"markdown-body\" v-html=\"blog.htmlContent\">\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport formatDate from '@/utils/formatDate'\r\nimport \"highlight.js/styles/github.css\";\r\nimport \"@/styles/markdown.css\";\r\nexport default {\r\n    props: {\r\n        blog: {\r\n            type: Object,\r\n            required: true,\r\n        },\r\n    },\r\n    methods: {\r\n        formatDate,\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n@import '~@/styles/var.less';\r\n\r\n.aside {\r\n    font-size: 12px;\r\n    color: @gray;\r\n\r\n    span,\r\n    a {\r\n        margin-right: 15px;\r\n    }\r\n}\r\n\r\n.markdown-body {\r\n    margin: 2em 0;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BlogDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BlogDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BlogDetail.vue?vue&type=template&id=166bbbca&scoped=true&\"\nimport script from \"./BlogDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./BlogDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BlogDetail.vue?vue&type=style&index=0&id=166bbbca&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"166bbbca\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.toc)?_c('div',{staticClass:\"blog-toc-container\"},[_c('h2',[_vm._v(\"目录\")]),_c('RightList',{attrs:{\"list\":_vm.tocWithSelect},on:{\"select\":_vm.handleSelect}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"blog-toc-container\" v-if=\"toc\">\r\n        <h2>目录</h2>\r\n        <RightList :list=\"tocWithSelect\" @select=\"handleSelect\"></RightList>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport RightList from './RightList'\r\nimport {debounce} from '@/utils'\r\nexport default {\r\n    components: {\r\n        RightList,\r\n    },\r\n    data() {\r\n        return {\r\n            activeAnchor: 'article-md-title-1'\r\n        }\r\n    },\r\n    props: {\r\n        toc: {\r\n            type: Array\r\n        }\r\n    },\r\n    methods: {\r\n        handleSelect(item) {\r\n            location.hash = item.anchor\r\n        },\r\n        //设置active为正确的值\r\n        setSelect(scrollDom) {\r\n            if(!scrollDom)return\r\n            const peak = 200;\r\n            for (const item of this.doms) {\r\n                if(!item){\r\n                    continue\r\n                }\r\n                const top = item.getBoundingClientRect().top\r\n\r\n                if(top>=0 && top<=peak){\r\n                    this.activeAnchor = item.id\r\n                    return\r\n                }else if(top>peak){\r\n                    //说明还没有看到这里\r\n                    return\r\n                }else{\r\n                    this.activeAnchor = item.id\r\n                }\r\n            }\r\n        }\r\n    },\r\n    computed: {\r\n        //toc中，添加isSelected属性\r\n        tocWithSelect() {\r\n            const getToc = (toc = []) => {\r\n                return toc.map(t =>\r\n                ({\r\n                    ...t,\r\n                    isSelected: t.anchor === this.activeAnchor,\r\n                    children: getToc(t.children),\r\n                })\r\n                )\r\n            }\r\n            return getToc(this.toc)\r\n        },\r\n        //根据doc获取对应的元素数组\r\n        doms() {\r\n            let doms = [];\r\n            const addTodoms = (toc = []) => {\r\n                for (const item of toc) {\r\n                    doms.push(document.getElementById(item.anchor))\r\n                    if (item.children && item.children.length) {\r\n                        addTodoms(item.children)\r\n                    }\r\n                }\r\n                return doms\r\n            }\r\n            return addTodoms(this.toc)\r\n        }\r\n    },\r\n    created(){\r\n        this.setSelectDebounce = debounce(this.setSelect,50)\r\n        this.$bus.$on('mainScroll',this.setSelectDebounce)\r\n    },\r\n    destroyed(){\r\n        this.$bus.$off('mainScroll',this.setSelectDebounce)\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.blog-toc-container {\r\n    h2 {\r\n        font-weight: bold;\r\n        letter-spacing: 2px;\r\n        font-size: 1em;\r\n        margin: 0;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BlogTOC.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BlogTOC.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BlogTOC.vue?vue&type=template&id=4e8f64c1&scoped=true&\"\nimport script from \"./BlogTOC.vue?vue&type=script&lang=js&\"\nexport * from \"./BlogTOC.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BlogTOC.vue?vue&type=style&index=0&id=4e8f64c1&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4e8f64c1\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"detail-container\">\r\n        <Layout>\r\n            <!-- 有data才显示 -->\r\n            <div ref=\"mainContainer\" class=\"main-container\" v-loading=\"isLoading\">\r\n                <BlogDetail :blog=\"data\" :v-if=\"data\"></BlogDetail>\r\n                <BlogComment v-if=\"!isLoading\"></BlogComment>\r\n            </div>\r\n            <template #right>\r\n                <div class=\"right-container\" v-loading=\"isLoading\">\r\n                    <BlogTOC :toc=\"data.toc\" v-if=\"data\"></BlogTOC>\r\n                </div>\r\n            </template>\r\n        </Layout>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport BlogComment from './components/BlogComment'\r\nimport BlogDetail from \"./components/BlogDetail\"\r\nimport BlogTOC from \"./components/BlogTOC\"\r\nimport fetchData from '@/mixins/fetchData'\r\nimport { getBlog } from '@/api/blog'\r\nimport { titleController } from '@/utils'\r\nimport Layout from '@/components/Layout'\r\nimport mainScroll from '@/mixins/mainScroll'\r\nimport { mapState } from 'vuex'\r\nexport default {\r\n    mixins: [fetchData(), mainScroll('mainContainer')],//设置默认值为null\r\n    components: {\r\n        Layout,\r\n        BlogDetail,\r\n        BlogTOC,\r\n        BlogComment\r\n    },\r\n    computed: {\r\n        ...mapState('setting', { settingData: 'data' })\r\n    },\r\n    methods: {\r\n        async fetchData() {\r\n            let resp = await getBlog(this.$route.params.id);\r\n            // resp = null;\r\n            if (!resp) {\r\n                //文章不存在\r\n                // this.$router.push({name: 'NotFound'})\r\n                this.$router.push('/404')\r\n                return\r\n            }\r\n            titleController.setSiteTitle(resp.title)\r\n            return resp\r\n        },\r\n        // handleScroll(){\r\n        //     //滚动条变化\r\n        //     this.$bus.$emit('mainScroll',this.$refs.mainContainer)\r\n        // },\r\n        // handleSetMainScroll(top){\r\n        //     this.$refs.mainContainer.scrollTop = top;\r\n        // },\r\n    },\r\n    // mounted(){\r\n    //     this.$bus.$on('setMainScoll',this.handleSetMainScroll)\r\n    //     this.$refs.mainContainer.addEventListener('scroll',this.handleScroll)\r\n    // },\r\n    // beforeDestroyed() {\r\n    //     this.$bus.$emit('mainScroll');\r\n    //     this.$bus.$off('setMainScoll',this.handleSetMainScroll)\r\n    //     this.$refs.mainContainer.removeEventListener('scroll',this.handleScroll)\r\n    // },\r\n    updated() {\r\n        const hash = location.hash;\r\n        location.hash = ''\r\n        setTimeout(() => {\r\n            location.hash = hash\r\n        }, 50)\r\n    },\r\n    destroyed() {\r\n        const siteTitle = this.settingData.siteTitle\r\n        siteTitle ? titleController.setSiteTitle(siteTitle) : siteTitle\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.detail-container {\r\n    height: 100%;\r\n\r\n    .main-container {\r\n        overflow-y: scroll;\r\n        width: 100%;\r\n        height: 100%;\r\n        box-sizing: border-box;\r\n        padding: 20px;\r\n        position: relative;\r\n        overflow-x: hidden;\r\n        scroll-behavior: smooth;\r\n    }\r\n\r\n    .right-container {\r\n        width: 300px;\r\n        height: 100%;\r\n        overflow-y: scroll;\r\n        box-sizing: border-box;\r\n        position: relative;\r\n        padding: 20px;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Detail.vue?vue&type=template&id=1b408f20&scoped=true&\"\nimport script from \"./Detail.vue?vue&type=script&lang=js&\"\nexport * from \"./Detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Detail.vue?vue&type=style&index=0&id=1b408f20&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1b408f20\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"right-list-container\"},_vm._l((_vm.list),function(item,i){return _c('li',{key:i},[_c('span',{class:{ active: item.isSelected },on:{\"click\":function($event){return _vm.handleClick(item)}}},[_vm._v(_vm._s(item.name))]),_c('span',{staticClass:\"aside\",class:{ active: item.isSelected },attrs:{\"v-if\":item.aside},on:{\"click\":function($event){return _vm.handleClick(item)}}},[_vm._v(_vm._s(item.aside))]),_c('RightList',{attrs:{\"list\":item.children},on:{\"select\":_vm.handleClick}})],1)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <ul class=\"right-list-container\">\r\n        <li v-for=\"(item, i) in list\" :key=\"i\">\r\n            <span :class=\"{ active: item.isSelected }\" @click=\"handleClick(item)\">{{ item.name }}</span>\r\n            <span :v-if=\"item.aside\" class=\"aside\" :class=\"{ active: item.isSelected }\" @click=\"handleClick(item)\">{{item.aside}}</span>\r\n            <!-- 显示当前组件 -->\r\n            <RightList :list=\"item.children\" @select=\"handleClick\"></RightList>\r\n        </li>\r\n    </ul>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'RightList',\r\n    props: {\r\n        //[{name:xxx, isSelected:true, children:[{name:yyy, isSeleted:false, children...}]}]\r\n        //这种情况我们要循环渲染\r\n        list: {\r\n            type: Array,\r\n            default: () => [],//默认值是数组或者对象的时候我们要写成一个函数，主要是为了防止识别错误。\r\n        }\r\n    },\r\n    methods: {\r\n        handleClick(item) {\r\n            if (!item.isSelected) {\r\n                this.$emit('select', item)//抛出事件\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n@import '~@/styles/var.less';\r\n\r\n.right-list-container {\r\n    list-style-type: none;\r\n    padding: 0;\r\n\r\n    .right-list-container {\r\n        margin-left: 1em;\r\n    }\r\n\r\n    li {\r\n        min-height: 40px;\r\n        line-height: 40px;\r\n        cursor: pointer;\r\n\r\n        .active {\r\n            color: @warn;\r\n            font-weight: bold;\r\n        }\r\n    }\r\n    .aside{\r\n        font-size: 12px;\r\n        margin-left: 1em;\r\n        color: @gray;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RightList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RightList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RightList.vue?vue&type=template&id=54f68730&scoped=true&\"\nimport script from \"./RightList.vue?vue&type=script&lang=js&\"\nexport * from \"./RightList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RightList.vue?vue&type=style&index=0&id=54f68730&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54f68730\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"message-area-container\"},[_c('DataForm',_vm._g({},_vm.$listeners)),_c('h3',[_vm._v(\" \"+_vm._s(_vm.title)+\" \"),_c('span',[_vm._v(_vm._s(_vm.subTitle))])]),_c('DataList',{attrs:{\"list\":_vm.list}}),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isListLoading),expression:\"isListLoading\"}],staticClass:\"loading\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{ref:\"form\",staticClass:\"data-form-container\",attrs:{\"id\":\"data-form-container\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit.apply(null, arguments)}}},[_c('div',{staticClass:\"form-item\"},[_c('div',{staticClass:\"input-area\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.nickname),expression:\"formData.nickname\"}],attrs:{\"type\":\"text\",\"maxlength\":\"10\",\"placeholder\":\"用户昵称\"},domProps:{\"value\":(_vm.formData.nickname)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"nickname\", $event.target.value)}}}),_c('span',{staticClass:\"tip\"},[_vm._v(_vm._s(_vm.formData.nickname.length)+\"/10\")])]),_c('div',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.error.nickname))])]),_c('div',{staticClass:\"form-item\"},[_c('div',{staticClass:\"text-area\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.content),expression:\"formData.content\"}],attrs:{\"maxlength\":\"300\",\"placeholder\":\"输入内容\"},domProps:{\"value\":(_vm.formData.content)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"content\", $event.target.value)}}}),_c('span',{staticClass:\"tip\"},[_vm._v(_vm._s(_vm.formData.content.length)+\"/300\")])]),_c('div',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.error.content))])]),_c('div',{staticClass:\"form-item\"},[_c('div',{staticClass:\"button-area\"},[_c('button',{attrs:{\"disabled\":_vm.isSubmiting}},[_vm._v(\" \"+_vm._s(_vm.isSubmiting ? \"提交中...\" : \"提交\")+\" \")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <form id=\"data-form-container\" ref=\"form\" @submit.prevent=\"handleSubmit\" class=\"data-form-container\">\n    <div class=\"form-item\">\n      <div class=\"input-area\">\n        <input type=\"text\" maxlength=\"10\" v-model=\"formData.nickname\" placeholder=\"用户昵称\" />\n        <span class=\"tip\">{{ formData.nickname.length }}/10</span>\n      </div>\n      <div class=\"error\">{{ error.nickname }}</div>\n    </div>\n    <div class=\"form-item\">\n      <div class=\"text-area\">\n        <textarea maxlength=\"300\" placeholder=\"输入内容\" v-model=\"formData.content\"></textarea>\n        <span class=\"tip\">{{ formData.content.length }}/300</span>\n      </div>\n      <div class=\"error\">{{ error.content }}</div>\n    </div>\n    <div class=\"form-item\">\n      <div class=\"button-area\">\n        <button :disabled=\"isSubmiting\">\n          {{ isSubmiting ? \"提交中...\" : \"提交\" }}\n        </button>\n      </div>\n    </div>\n  </form>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      formData: {\n        nickname: \"\",\n        content: \"\",\n      },\n      error: {\n        nickname: \"\",\n        content: \"\",\n      },\n      isSubmiting: false,\n    };\n  },\n  methods: {\n    handleSubmit() {\n      this.error.nickname = this.formData.nickname ? \"\" : \"请填写昵称\";\n      this.error.content = this.formData.content ? \"\" : \"请填写内容\";\n      if (this.error.nickname || this.error.content) {\n        // 有错误\n        return;\n      }\n      this.isSubmiting = true; // 正在提交，防止重复点击\n      this.$emit(\"submit\", this.formData, (successMsg) => {\n        this.$showMessage({\n          content: successMsg,\n          type: \"success\",\n          duration: 1000,\n          container: this.$refs.form,\n          callback: () => {\n            this.isSubmiting = false;\n            this.formData.nickname = \"\";\n            this.formData.content = \"\";\n          },\n        });\n      }); // 让父组件来处理事件\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n@import \"~@/styles/var.less\";\n\n.data-form-container {\n  margin-bottom: 20px;\n  overflow: hidden;\n}\n\n.form-item {\n  margin-bottom: 8px;\n}\n\n.input-area {\n  width: 50%;\n  position: relative;\n}\n\n.text-area {\n  position: relative;\n}\n\n.tip {\n  position: absolute;\n  right: 5px;\n  bottom: 5px;\n  color: #b4b8bc;\n  font-size: 12px;\n}\n\ninput,\ntextarea {\n  display: block;\n  width: 100%;\n  box-sizing: border-box;\n  border: 1px dashed @gray;\n  outline: none;\n  color: @words;\n  font-size: 14px;\n  border-radius: 4px;\n\n  &:focus {\n    border-color: @primary;\n  }\n}\n\ninput {\n  padding: 0 15px;\n  height: 40px;\n}\n\ntextarea {\n  resize: none;\n  padding: 8px 15px;\n  height: 120px;\n}\n\n.error {\n  margin-top: 6px;\n  color: @danger;\n  font-size: 14px;\n  height: 20px;\n  line-height: 20px;\n}\n\nbutton {\n  position: relative;\n  cursor: pointer;\n  border: none;\n  outline: none;\n  width: 100px;\n  height: 34px;\n  color: #fff;\n  border-radius: 4px;\n  background: @primary;\n\n  &:hover {\n    background: darken(@primary, 10%);\n  }\n\n  &:disabled {\n    background: lighten(@primary, 20%);\n    cursor: not-allowed;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DataForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DataForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DataForm.vue?vue&type=template&id=0da4cd78&scoped=true&\"\nimport script from \"./DataForm.vue?vue&type=script&lang=js&\"\nexport * from \"./DataForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DataForm.vue?vue&type=style&index=0&id=0da4cd78&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0da4cd78\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"data-list-container\"},_vm._l((_vm.list),function(item){return _c('li',{key:item.id},[_c('Avatar',{attrs:{\"url\":item.avatar,\"size\":44}}),_c('div',{staticClass:\"data\"},[_c('div',{staticClass:\"nickname\"},[_vm._v(_vm._s(item.nickname))]),_c('div',{staticClass:\"content\"},[_vm._v(_vm._s(item.content))]),_c('div',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.formatDate(item.createDate, true)))])])],1)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <ul class=\"data-list-container\">\n    <li v-for=\"item in list\" :key=\"item.id\">\n      <Avatar :url=\"item.avatar\" :size=\"44\" />\n      <div class=\"data\">\n        <div class=\"nickname\">{{ item.nickname }}</div>\n        <div class=\"content\">{{ item.content }}</div>\n        <div class=\"time\">{{ formatDate(item.createDate, true) }}</div>\n      </div>\n    </li>\n  </ul>\n</template>\n\n<script>\nimport Avatar from \"@/components/Avatar\";\nimport { formatDate } from \"@/utils\";\nexport default {\n  components: {\n    Avatar,\n  },\n  props: {\n    list: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  methods: {\n    formatDate,\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n@import \"~@/styles/var.less\";\n.data-list-container {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\nli {\n  display: flex;\n  border-bottom: 1px solid lighten(@gray, 20%);\n  padding: 15px 0;\n}\n.avatar-container {\n  margin-right: 15px;\n}\n.nickname {\n  color: darken(@success, 10%);\n  margin-bottom: 10px;\n}\n.content {\n  font-size: 14px;\n}\n.data {\n  flex: 1 1 auto;\n  position: relative;\n}\n.time {\n  position: absolute;\n  right: 0;\n  top: 5px;\n  font-size: 12px;\n  color: @gray;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DataList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DataList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DataList.vue?vue&type=template&id=6bbcd1b2&scoped=true&\"\nimport script from \"./DataList.vue?vue&type=script&lang=js&\"\nexport * from \"./DataList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DataList.vue?vue&type=style&index=0&id=6bbcd1b2&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6bbcd1b2\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"message-area-container\">\n    <DataForm v-on=\"$listeners\" />\n    <h3>\n      {{ title }}\n      <span>{{ subTitle }}</span>\n    </h3>\n    <DataList :list=\"list\" />\n    <div class=\"loading\" v-loading=\"isListLoading\"></div>\n  </div>\n</template>\n\n<script>\nimport DataForm from \"./DataForm\";\nimport DataList from \"./DataList\";\nexport default {\n  props: {\n    title: {\n      type: String,\n      default: \"\",\n    },\n    subTitle: {\n      type: String,\n      default: \"\",\n    },\n    list: {\n      type: Array,\n      default: () => [],\n    },\n    isListLoading: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  components: {\n    DataForm,\n    DataList,\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n.loading {\n  position: relative;\n  height: 100px;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=081b83b7&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=081b83b7&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"081b83b7\",\n  null\n  \n)\n\nexport default component.exports","import request from \"./request\";\r\n// import '../mock'\r\n\r\n/**\r\n * 获取博客的所有分类\r\n * @returns \r\n */\r\nexport async function getBlogTypes(){\r\n    return await request.get(\"/api/blogtype\")\r\n}\r\n\r\n/**\r\n * 获取博客的列表数据，分页获取博客\r\n * @param {*} page \r\n * @param {*} limit \r\n * @param {*} categoryid \r\n * @returns \r\n */\r\nexport async function getBlogs(page=1,limit=10,categoryid=-1) {\r\n    console.log(page,limit,categoryid);\r\n  return await request.get(\"/api/blog\",{\r\n      params: {\r\n          page,\r\n          limit,\r\n          categoryid,\r\n      }\r\n  });\r\n}\r\n\r\nexport async function getBlog(id){\r\n    return await request.get(`/api/blog/${id}`)\r\n}\r\n/**\r\n * 提交评论\r\n * @returns \r\n */\r\nexport async function postComment(commentInfo){\r\n    return await request.post(`/api/comment`,commentInfo)\r\n}\r\n\r\nexport async function getComments(blogId,page=1,limit=10){\r\n    return await request.get(`/api/comment`,{\r\n        params: {\r\n            blogId,\r\n            page,\r\n            limit\r\n        }\r\n    })\r\n}","//公共的远程获取数据的代码\r\n//具体的组件中需要一个远程获取数据的方法fetchData\r\n// export default{\r\n//     data(){\r\n//         return{\r\n//             isLoading:true,\r\n//             data:[],\r\n//         }\r\n//     },\r\n//     async created(){\r\n//         this.data = await this.fetchData();\r\n//         isLoading = false;\r\n//     }\r\n// }\r\nexport default function(defaultDataValue = {}) {\r\n    return {\r\n      data() {\r\n        return {\r\n          isLoading: true,\r\n          data: defaultDataValue,\r\n        };\r\n      },\r\n      async created() {\r\n        this.data = await this.fetchData();\r\n        this.isLoading = false;\r\n      },\r\n    };\r\n  }","export default function(container){\r\n   return{\r\n    methods:{\r\n        handleMainScroll(){\r\n            //滚动条变化\r\n            this.$bus.$emit('mainScroll',this.$refs[container])\r\n        },\r\n        handleSetMainScroll(top){\r\n            this.$refs[container].scrollTop = top;\r\n        },\r\n    },\r\n    mounted(){\r\n        this.$bus.$on('setMainScoll',this.handleSetMainScroll)\r\n        this.$refs[container].addEventListener('scroll',this.handleMainScroll)\r\n    },\r\n    beforeDestroyed() {\r\n        this.$bus.$emit('mainScroll');\r\n        this.$bus.$off('setMainScoll',this.handleSetMainScroll)\r\n        this.$refs[container].removeEventListener('scroll',this.handleMainScroll)\r\n    },\r\n   }\r\n}"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","scopedSlots","_u","key","fn","directives","name","rawName","value","expression","attrs","data","toc","_e","proxy","ref","isLoading","staticRenderFns","rows","on","handleSubmit","mixins","total","components","MessageArea","page","limit","computed","hasMore","created","destroyed","methods","blogId","callback","component","blog","_v","_s","title","formatDate","createDate","scanNumber","commentNumber","params","categotyId","category","id","domProps","htmlContent","props","type","required","tocWithSelect","handleSelect","RightList","activeAnchor","location","setSelect","isSelected","children","doms","addTodoms","Layout","BlogDetail","BlogTOC","BlogComment","settingData","titleController","updated","setTimeout","siteTitle","_l","item","i","class","active","$event","handleClick","aside","list","default","_g","$listeners","subTitle","preventDefault","apply","arguments","formData","target","composing","$set","nickname","length","error","content","isSubmiting","duration","container","avatar","Avatar","isListLoading","DataForm","DataList","async","getBlogTypes","request","getBlogs","categoryid","console","log","getBlog","postComment","commentInfo","getComments","defaultDataValue","fetchData","handleMainScroll","$bus","$emit","$refs","handleSetMainScroll","top","scrollTop","mounted","$on","addEventListener","beforeDestroyed","$off","removeEventListener"],"sourceRoot":""}